var $posts={scroller:function(){function s(){return this.callbacks=[],this}return s.prototype.bindScrollEvent=function(){var e=this;window.addEventListener("scroll",function(s){var t=window.pageYOffset;setTimeout(function(){var o={event:s,beforeOffsetY:t};e.callbacks.forEach(function(s){s(o)})},150)})},s},showTopic:function(s){var o=document.getElementById("postTopic"),t=document.getElementById("postTitle"),e=t.getBoundingClientRect(),t=t.offsetTop+e.height;window.pageYOffset>t?(t=0<(e=s&&s.beforeOffsetY)-window.pageYOffset,o.classList.remove("is-hidden-topic-bar"),e-window.pageYOffset==0?(o.classList.remove("is-switch-post-title"),o.classList.remove("is-show-post-title"),o.classList.remove("immediately-show"),o.classList.contains("is-show-scrollToTop-tips")?(o.classList.remove("is-show-scrollToTop-tips"),o.classList.add("is-flash-scrollToTop-tips")):o.classList.add("immediately-show")):t?window.pageYOffset>2*window.innerHeight?(o.classList.remove("immediately-show"),o.classList.remove("is-show-post-title"),o.classList.remove("is-switch-post-title"),o.classList.remove("is-flash-scrollToTop-tips"),o.classList.add("is-show-scrollToTop-tips")):(o.classList.remove("immediately-show"),o.classList.remove("is-show-post-title"),o.classList.remove("is-show-scrollToTop-tips"),o.classList.remove("is-flash-scrollToTop-tips"),o.classList.add("is-switch-post-title")):e-window.pageYOffset!=0&&(o.classList.remove("immediately-show"),o.classList.remove("is-switch-post-title"),o.classList.remove("is-show-scrollToTop-tips"),o.classList.remove("is-flash-scrollToTop-tips"),o.classList.add("is-show-post-title"))):(o.classList.remove("is-flash-scrollToTop-tips"),o.classList.remove("is-show-scrollToTop-tips"),o.classList.remove("is-switch-post-title"),o.classList.remove("is-show-post-title"),o.classList.remove("immediately-show"),o.classList.add("is-hidden-topic-bar"))},smoothScrollToTop:function(){var s=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;1<s?(window.requestAnimationFrame($posts.smoothScrollToTop),scrollTo(0,Math.floor(.85*s))):scrollTo(0,0)},addValineComment(){var s=document.getElementById("vcomments");new Valine({el:"#vcomments",appId:s.dataset.comment_valine_id,appKey:s.dataset.comment_valine_key})},mounted:function(){var s=new(this.scroller());s.callbacks.push(this.showTopic),s.bindScrollEvent(),$claudia.fadeInImage(document.querySelectorAll(".post-content img")),document.getElementById("postTopic").addEventListener("click",this.smoothScrollToTop),window.Valine&&this.addValineComment()}};$posts.mounted();